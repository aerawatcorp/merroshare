<html>
  <head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<style type="text/css">
  .gain{
    background-color: aquamarine !important;
  }

  .gain.loss{
    background-color: lightpink !important;
  }

</style>
  </head>

<body>

  <div class="container">

    <h2>portfolio</h2>
    <p>as of: {{ now }}</p>
<table class='table table-bordered table-striped'>

<thead>
    <tr>
{% for key in keys %}
  <th>{{ key }}</th>
{% endfor %}
</tr>
</thead>

{% for c, v in portfolio.items() %}
  <tr>
    {% for k in keys %}
      <td class="gain {{k}} {% if v.get(k)|float < 0.0 %}loss{% endif %}">{{ v.get(k, "--") }}</td>
    {% endfor %}
  </tr>
{% endfor %}
</table>
  </div>
</body>

</html>